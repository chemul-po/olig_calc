#### **1. Простой олигонуклеотид без модификаций**

##### **Входные данные:**

- **Последовательность:** строка, состоящая из букв A, C, G, T (заглавные или строчные).  
    Пример: `ACGTACGT`.
- **Масштаб синтеза (в о.е.):** минимальный (`min`) или заданный числом (например, `10`, `20`, `40` и т.д.).
- **Прайс:** стоимость каждой буквы для заданного масштаба.

##### **Алгоритм:**

1. Проверяем корректность последовательности:
    - Убедиться, что она состоит только из допустимых символов (A, C, G, T).
    - Если есть некорректные символы:
	    - ошибка.
1. Рассчитываем базовую стоимость:
    - **Сумма стоимости всех букв в последовательности.**
    - Каждая буква берется из прайса на основании масштаба синтеза.  
        Пример:
        - `A = 1.2 у.е.` для 10 о.е.
        - `C = 1.3 у.е.` для 10 о.е.
        - **Сумма:** `1.2 + 1.3 + 1.2 + 1.3 + 1.2 + 1.3 + 1.2 + 1.3 = 10.0 у.е.`.
3. Если масштаб >40 о.е.:
    - Применяется формула:  
        **`стоимость = количество о.е. × стоимость за о.е.`.**  
        Пример: для масштаба 50 о.е. и стоимости 5 у.е./о.е.
        `50 × 5 = 250 у.е.`.

---
#### **2. Олигонуклеотид с модификациями**

##### **Входные данные:**

- **Последовательность:** строка с токенами букв и внутренних модификаций, например:  
    `ACGT/dT-Alk/ACGT`.
- **Внешние модификации:**
    - **5’-модификация** (например, `Bio`).
    - **3’-модификация** (например, `FAM`).
- **Масштаб синтеза (в о.е.):** минимальный или заданный числом.
- **Прайс:** стоимость букв, внутренних и внешних модификаций.

##### **Алгоритм:**

1. Проверяем корректность данных:
    - Убедиться, что все буквы и модификации указаны правильно (есть в прайсе).
    - Если есть некорректные данные → ошибка.
      
2. Рассчитываем стоимость последовательности:
    - Суммируем стоимость всех букв в последовательности (как в простом случае).
    - Добавляем стоимость внутренних модификаций:
        - Например: `/dT-Alk/` стоит 10 у.е.  
            Если последовательность: `ACGT/dT-Alk/ACGT`, то стоимость букв + 10 у.е.
    - **Пример:**  
        Последовательность: `ACGT/dT-Alk/ACGT`.
        - Буквы: `1.2 + 1.3 + 1.2 + 1.3 + 1.2 + 1.3 + 1.2 + 1.3 = 10.0 у.е.`.
        - Внутренняя модификация: `/dT-Alk/ = 10 у.е.`.
        - **Итого:** `10.0 + 10.0 = 20.0 у.е.`.
          
3. Добавляем стоимость внешних модификаций:
    - Стоимость берется из прайса.
    - **Пример:**
        - 5’-модификация: `Bio = 5 у.е.`.
        - 3’-модификация: `FAM = 7 у.е.`.
        - **Итого:** `5 + 20.0 + 7 = 32.0 у.е.`.
          
4. Применяем масштаб синтеза (>40 о.е., если применимо):
    - Аналогично простому варианту.

---

#### **3. Зонд**

##### **Входные данные:**

- **Последовательность:** строка с токенами букв и модификаций, например:  
    `ACGT/dT-FAM/ACGT/dT-BHQ1/`.
- **Обязательно пара:** краситель + гаситель.
- **Модификации:**
    - Внешние модификации (5’, 3’) или внутренние модификации.
- **Масштаб синтеза (в о.е.):** минимальный или заданный числом.
- **Прайс:** стоимость зондов (пары краситель/гаситель) и дополнительных модификаций.

##### **Алгоритм:**

1. Проверяем корректность данных:
    - Убедиться, что есть корректная пара краситель/гаситель (есть в прайсе).
    - Если пара отсутствует или некорректна → ошибка.
      
2. Рассчитываем стоимость зонда:
    - Для заданной пары краситель/гаситель берем стоимость из прайса.
    - **Пример:**
        - Пара `FAM` и `BHQ1` стоит 50 у.е. (масштаб до 40 о.е.).
          
3. Добавляем стоимость дополнительных модификаций (если есть):
    - Например, если зонд содержит еще один краситель, его стоимость добавляется.
      
4. Применяем масштаб синтеза (>40 о.е., если применимо):
    - Аналогично предыдущим вариантам.
    - **Формула:**  
        `стоимость = кол-во о.е. × стоимость за о.е.`.
        
5. Если зонд содержит дополнительные модификации:
	1. стоимость модификаций добавляется.

---
### Примеры расчета

#### **Пример 1: Простой олигонуклеотид**

- Последовательность: `ACGTACGT`.
- Масштаб синтеза: 5 о.е.
- Прайс: `A = 39`, `C = 39`, `G = 39`, `T = 39.
- **Итог:**  
    `39 + 39 + 39 + 39 + 39 + 39 + 39 + 39 = 312 у.е.`.

---

#### **Пример 2: Олигонуклеотид с модификациями**

- Последовательность: `ACGT/dT-Alk/ACGT`.
- Масштаб синтеза: 5 о.е.
- Прайс:
    - Внутренняя модификация `/dT-Alk/ = 975,00 у.е.`.
    - 5’-модификация: `Bio = 1 687,50 у.е.`.
    - 3’-модификация: `FAM = 975,00 у.е.`.
- **Итог:**  
    `312,00 + 975,00 + 1 687,50 + 975,00 = 3949,5 у.е.`.

---

#### **Пример 3: Зонд**

- Последовательность: `ACGT/dT-FAM/ACGT/dT-BHQ1/`.
- Масштаб синтеза: 50 о.е.
- Прайс:
    - Пара `FAM` + `BHQ1`: `7 425,00 у.е`.
    - Стоимость за 1 о.е.: 1 у.е.
- **Итог:**  
    `7 425,00 + 50 × 103,55 = 12602,5 у.е.`.